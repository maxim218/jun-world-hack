!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o={dialog:!0,tests:void 0,friend:void 0};function i(){return o}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return runTest}));var _global__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);function runTest(tests){var code=codeInputElement.value+"";if(tests){var GOOD=!0;tests.forEach((function(test){try{var result=eval(code+"  "+test.f);result!==test.r&&(GOOD=!1),console.log(result+"_____"+test.r)}catch(t){GOOD=!1}})),!0===GOOD&&(Object(_global__WEBPACK_IMPORTED_MODULE_0__.a)().dialog=!0,Object(_global__WEBPACK_IMPORTED_MODULE_0__.a)().friend.y=1e3)}}},function(t,e,n){"use strict";function o(t){return console.log("Id: "+t),document.getElementById(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.r(e);var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),console.log("Create canvasManager"),this.holst=e.getContext("2d"),this.drawBackground(),this.deltaX=0,this.importImages()}var e,n,o;return e=t,(n=[{key:"importImages",value:function(){this.fon=new Image,this.fon.src="fon.jpg",this.dock=new Image,this.dock.src="dock.jpg",this.floor=new Image,this.floor.src="floor.png",this.snake=new Image,this.snake.src="snake.png",this.krot=new Image,this.krot.src="krot.png",this.krot2=new Image,this.krot2.src="krot2.png"}},{key:"moveDeltaX",value:function(t){this.deltaX+=t}},{key:"drawBackground",value:function(){this.holst.clearRect(0,0,800,600);try{this.holst.drawImage(this.fon,0,0,1280,720)}catch(t){}}},{key:"drawLine",value:function(t,e,n,o,i,r){this.holst.lineWidth=parseInt(i),this.holst.strokeStyle=r,this.holst.beginPath(),this.holst.moveTo(t,e),this.holst.lineTo(n,o),this.holst.closePath(),this.holst.stroke()}},{key:"simpleRectangle",value:function(t,e,n,o){this.holst.strokeRect(t+this.deltaX,e,n,o)}},{key:"drawWall",value:function(t){this.holst.lineWidth=2,this.holst.strokeStyle="#FF0000";try{this.holst.drawImage(this.dock,t.x+this.deltaX,t.y,t.w,t.h)}catch(t){}if(t.w>7e3)try{this.holst.drawImage(this.floor,t.x+this.deltaX,t.y,t.w,t.h)}catch(t){}}},{key:"drawWallsArray",value:function(t){var e=this;t.forEach((function(t){e.drawWall(t)}))}},{key:"drawTask",value:function(t){this.holst.lineWidth=2,this.holst.strokeStyle="#0000FF";try{this.holst.drawImage(this.snake,t.x+this.deltaX,t.y-25+3,t.size,t.size+60)}catch(t){}}},{key:"drawTasksArray",value:function(t){var e=this;t.forEach((function(t){e.drawTask(t)}))}},{key:"drawHero",value:function(t,e){if(this.holst.lineWidth=3,this.holst.strokeStyle="#00FF00","right"===e)try{this.holst.drawImage(this.krot,t.x+this.deltaX-20,t.y-20,t.size+40,t.size+38)}catch(t){}else try{this.holst.drawImage(this.krot2,t.x+this.deltaX-20,t.y-20,t.size+40,t.size+38)}catch(t){}}}])&&i(e.prototype,n),o&&i(e,o),t}(),s=[];function a(t,e,n,o){s.push({x:t,y:e,w:n,h:o})}function h(){return s}a(1500,200,200,450),a(100,400,150,160),a(500,300,150,260),a(950,400,150,160),a(-4e3,550,8e3,100);var l=[];function c(t,e,n,o){l.push({x:t,y:e,text:n,testsArr:o,size:90,w:90,h:90})}function u(){return l}c(1250,470," Only the truth will break the wall ",[{f:"main()",r:!0}]),c(690,470," Function to get the sum of integers main(a, b) ",[{f:"main(2, 3)",r:5},{f:"main(12, 8)",r:20},{f:"main(-2, -3)",r:-5}]),c(-30,470," Function to get the maximum number of two numbers main(a, b) ",[{f:"main(9, 3)",r:9},{f:"main(2, 7)",r:7},{f:"main(5, 5)",r:5}]);var d=n(0),f=n(1);function v(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),console.log("Create HeroControl"),this.w=!1,this.a=!1,this.s=!1,this.d=!1,this.addDownEvent(),this.addUpEvent(),this.hero={x:350,y:100,size:80},this.canJUMP=!1,this.gravity=.3,this.speedY=0,this.speedX=7,this.last="right"}var e,n,o;return e=t,(n=[{key:"hitPointWall",value:function(t,e,n){return t.x<e&&e<t.x+t.w&&t.y<n&&n<t.y+t.h}},{key:"renderTask",value:function(t,e,n){var o=this,i=this.hero.x+this.hero.size/2,r=this.hero.y+this.hero.size/2;e.innerHTML="",t.forEach((function(t){!0===o.hitPointWall(t,i,r)&&(e.innerHTML=t.text,Object(d.a)().tests=t.testsArr,Object(d.a)().friend=t)})),e.innerHTML?n.hidden=!1:n.hidden=!0}},{key:"hitPointWithWallsArray",value:function(t,e,n){for(var o=0;o<n.length;o++)if(!0===this.hitPointWall(n[o],t,e))return n[o];return!1}},{key:"moveLeft",value:function(t){this.hero.x-=this.speedX,t.moveDeltaX(this.speedX),this.last="left"}},{key:"moveRight",value:function(t){this.hero.x+=this.speedX,t.moveDeltaX(-this.speedX),this.last="right"}},{key:"getLast",value:function(){return this.last}},{key:"moveX",value:function(t,e){if(Object(d.a)().dialog){if(!0===this.a){var n=this.hero.x-this.speedX,o=this.hero.y+this.hero.size;!1===this.hitPointWithWallsArray(n,o-2,t)&&this.moveLeft(e)}if(!0===this.d){var i=this.hero.x+this.hero.size+this.speedX,r=this.hero.y+this.hero.size;!1===this.hitPointWithWallsArray(i,r-2,t)&&this.moveRight(e)}}}},{key:"moveY",value:function(t){if(Object(d.a)().dialog){!0===this.w&&0===parseInt(this.speedY)&&!0===this.canJUMP&&(this.speedY=-10,this.canJUMP=!1),this.speedY+=this.gravity;var e=void 0,n=void 0,o=void 0;e=this.hero.x,n=this.hero.y+this.hero.size;var i="FALSE";if(!1!==(o=this.hitPointWithWallsArray(e,n,t))&&(i=o),e=this.hero.x+this.hero.size,n=this.hero.y+this.hero.size,!1!==(o=this.hitPointWithWallsArray(e,n,t))&&(i=o),"FALSE"!==i){var r=i;return this.hero.y=parseInt(r.y-this.hero.size),this.speedY=0,void(this.canJUMP=!0)}this.hero.y+=this.speedY}}},{key:"getHero",value:function(){return this.hero}},{key:"setKeysFalse",value:function(){this.w=!1,this.a=!1,this.s=!1,this.d=!1}},{key:"addUpEvent",value:function(){var t=this;window.onkeyup=function(e){var n=e.keyCode;87===n&&(t.w=!1),65===n&&(t.a=!1),83===n&&(t.s=!1),68===n&&(t.d=!1)}}},{key:"addDownEvent",value:function(){var t=this;window.onkeydown=function(e){var n=e.keyCode;87===n&&(t.w=!0),65===n&&(t.a=!0),83===n&&(t.s=!0),68===n&&(t.d=!0)}}}])&&v(e.prototype,n),o&&v(e,o),t}();window.onload=function(){console.log("Window load OK");var t=o("can");!function(t,e){console.log("Call addEvents"),t.controlDialogBtn.onclick=function(){Object(d.a)().dialog=!Object(d.a)().dialog},t.runCodeBtn.onclick=function(){Object(d.a)().tests&&Object(f.a)(Object(d.a)().tests,t.codeInputElement)},setInterval((function(){e.heroControl.moveX(h(),e.canvasManager),e.heroControl.moveY(h()),e.canvasManager.drawBackground(),e.canvasManager.drawWallsArray(h());var n=e.heroControl.getLast()+"";e.canvasManager.drawHero(e.heroControl.getHero(),n),e.canvasManager.drawTasksArray(u()),e.heroControl.renderTask(u(),t.dialogBox,t.rightBox);var o=u(),i=h();console.log(o.length+" _____"+i.length),o[0].y>900&&(i[0].y=700)}),30)}({can:t,rightBox:o("rightBox"),codeInputElement:o("codeInputElement"),dialogBox:o("dialogBox"),runCodeBtn:o("runCodeBtn"),controlDialogBtn:o("controlDialogBtn"),codeInputBox:o("codeInputBox")},{canvasManager:new r(t),heroControl:new y})}}]);